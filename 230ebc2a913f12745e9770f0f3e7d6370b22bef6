{
  "comments": [
    {
      "key": {
        "uuid": "14a93019_6addcef1",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-12-18T16:48:59Z",
      "side": 1,
      "message": "it was a shell script itself, why do we need prove here?\n\nBTW, I have just recalled, goss is missing... right now we wget it inside testrunner from deb.sipwise.com, which is not acceptible for NGCP in production :-(\n\n\nany ideas here? upload goss package to Debian... Ufff..\nanyway we need to build it locally from sources... and do not trust binaries from GitHub, isn\u0027t it?",
      "range": {
        "startLine": 5,
        "startChar": 14,
        "endLine": 5,
        "endChar": 51
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a89e242a_d990e935",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2019-12-18T16:56:56Z",
      "side": 1,
      "message": "Prove prints a nice summary, and on failure it will output only the failing cases which is nicer than the raw script output.\n\nAbout goss, right. I\u0027m not sure it should be a blocker right now. But indeed, what I\u0027d do is build an actual .deb that we can install and depend on, even if it\u0027s a fake one taking the upstream blob, as Mika has done in the past with grafana or other similar monsters. I think Mika has more experience with those, so it might make sense for him to handle.",
      "parentUuid": "14a93019_6addcef1",
      "range": {
        "startLine": 5,
        "startChar": 14,
        "endLine": 5,
        "endChar": 51
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22e51f49_a4db1c96",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-12-19T09:27:42Z",
      "side": 1,
      "message": "\u003e Prove prints a nice summary, and on failure it will output only the failing cases which is nicer than the raw script output.\n\nBut how it suppose to work? I see: https://paste.mgm.sipwise.com/show/6519/\n\n\u003e But indeed, what I\u0027d do is build an actual .deb that we can install and depend on.\n\nACK to add it as backports to trunk.yml (and probably internal-buster, so we will use it internally too). Will you take care here? The problem is: some customers blocks access to deb.sipwise.com, so ngcp-system-tests will fail there if we keep it AS IS.",
      "range": {
        "startLine": 5,
        "startChar": 1,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "679046b0_540ecd56",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-12-19T10:29:16Z",
      "side": 1,
      "message": "\u003e ACK to add it as backports to trunk.yml (and probably internal-buster, so we will use it internally too). Will you take care here? The problem is: some customers blocks access to deb.sipwise.com, so ngcp-system-tests will fail there if we keep it AS IS.\n\nSo I briefly looked into the actual dependencies of goss in Debian:\n\n  https://paste.mgm.sipwise.com/show/6520/\n\n@Alex: I could provide a \"fake Debian backport package\" for our own needs pretty fast, please just file a WF issue for me if you want me to take care of this.\n\n@Guillem: do you think it\u0027s worth creating an official Debian package in the-Debian-way? If so, do you want to take a closer look at my paste and what work would actually need to be taken care of?",
      "parentUuid": "22e51f49_a4db1c96",
      "range": {
        "startLine": 5,
        "startChar": 1,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f41600b_1dff1bbc",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2019-12-19T13:40:38Z",
      "side": 1,
      "message": "As I mention on the other comment, I already started briefly checking this yesterday, but «dh-make-golang estimate» crapped out on one of the transitive dependencies due to a wrong path or similar. So, I\u0027d go with the fake package for now, so that we do not end up with a possibly broken release, but we should at least try IMO to package this properly. There was even an ITP at some point in Debian (now demoted to an RFP).",
      "parentUuid": "679046b0_540ecd56",
      "range": {
        "startLine": 5,
        "startChar": 1,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5af1116_86a40d54",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2019-12-19T13:40:38Z",
      "side": 1,
      "message": "Are you running that on a non-existent pathname?\n\nYeah, was already looking into it yesterday. I think it should not be a blocker for trunk, because as Mika mentions we should be able to get a fake package ready pretty quickly, and we can always then check the effort needed for a proper one.",
      "parentUuid": "22e51f49_a4db1c96",
      "range": {
        "startLine": 5,
        "startChar": 1,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bd58b16_21a04bcd",
        "filename": "ngcp-system-tests",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2019-12-19T15:45:08Z",
      "side": 1,
      "message": "\u003e Are you running that on a non-existent pathname?\n  \nssh ce-trunk.mgm.sipwise.com\nroot@spce:~# prove \"$@\" -f /usr/share/ngcp-system-tests/testrunner\n\n\u003e I think it should not be a blocker for trunk, \n\nNot a blocker for trunk, yes.\nBlocked for mr8.2, IMHO.\nWe cannot release mr8.2 with ngcp-system-tests installed by default which wget goss. IMHO.\n\nACK to Mika for fast hack package, but is it possible to build it locally from sources to ensure no intrusions into goss binary, as we going to install it into customer\u0027s datacenters.\nHuge security risk for foreign binaries.\n\n\u003e I already started briefly checking this yesterday...\n\nMaybe we can ask goss author to cut unnecessary dependencies to simplify Debian publishing? He is pretty good guy, so maybe he can help us here... Maybe some go libraries he uses can be replaced with 10 lines function :-D\n\n\u003e2Mika: please just file a WF issue for me if you want me to take care of this.\n\nhttps://sipwise.my.workfront.com/task/view?ID\u003d73105",
      "parentUuid": "0f41600b_1dff1bbc",
      "range": {
        "startLine": 5,
        "startChar": 1,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "230ebc2a913f12745e9770f0f3e7d6370b22bef6",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}